// =======================
//  i18n TRANSLATIONS
// =======================
const I18N = {
  en: {
    site_title: "Youssef â€” Portfolio",
    brand_name: "Youssef.",
    nav_about: "About",
    nav_projects: "Projects",
    nav_contact: "Contact",

    hero_welcome: "Welcome to my portfolio",
    hero_name: "Youssef Dahi",
    hero_title: "Full-Stack Web Developer",
    hero_sub: "I craft fast, clean, and modern apps for the web & mobile.",
    hero_view_projects: "View Projects",
    hero_about_me: "About me",

    about_title: "About me",
    about_text:
      "Iâ€™m Youssef, a full-stack developer. I build scalable backends and delightful frontends. My toolkit covers modern frameworks and clean architecture.",

    stat_projects: "Projects",
    stat_clients: "Happy Clients",
    stat_years: "Years",

    projects_title: "Featured Projects",
    projects_sub: "Clean UI, solid architecture, and smooth UX.",

    project_social: "Social Media",
    social_title: "Social Media Application",
    social_desc:
      "Real-time feed, user profiles, server-side messaging, relationships between users, chat, and dating features. Built with MySql, JavaSript, and Symfony.",

    project_stock: "Gestion de Stock",
    stock_title: "Gestion de Stock (Market Online)",
    stock_desc:
      "Inventory, orders, suppliers, and analytics with role-based access. Laravel / MySQL + modern UI.",

    btn_code: "Code",

    contact_title: "Letâ€™s build something",
    contact_sub: "Iâ€™m open to freelance and collaboration. Reach out:",
    email: "dahiyoussef091@gmail.com",

    footer_text: "Youssef â€” All rights reserved."
  },

  ar: {
    site_title: "ÙŠÙˆØ³Ù â€” Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„",
    brand_name: "ÙŠÙˆØ³Ù.",
    nav_about: "Ø­ÙˆÙ„",
    nav_projects: "Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹",
    nav_contact: "Ø§ØªØµØ§Ù„",

    hero_welcome: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø¹Ø±Ø¶ Ø£Ø¹Ù…Ø§Ù„ÙŠ",
    hero_name: "ÙŠÙˆØ³Ù Ø§Ù„Ø¯Ø§Ø­ÙŠ",
    hero_title: "Ù…Ø·ÙˆØ± ÙˆÙŠØ¨ Ù…ØªÙƒØ§Ù…Ù„",
    hero_sub: "Ø£ØµÙ…Ù‘Ù… ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø³Ø±ÙŠØ¹Ø© ÙˆÙ†Ø¸ÙŠÙØ© ÙˆØ­Ø¯ÙŠØ«Ø© Ù„Ù„ÙˆÙŠØ¨ ÙˆØ§Ù„Ø¬ÙˆØ§Ù„.",
    hero_view_projects: "Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹",
    hero_about_me: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†ÙŠ",

    about_title: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†ÙŠ",
    about_text:
      "Ø£Ù†Ø§ ÙŠÙˆØ³ÙØŒ Ù…Ø·ÙˆÙ‘Ø± ÙˆÙŠØ¨ Ù…ØªÙƒØ§Ù…Ù„. Ø£Ø¨Ù†ÙŠ ÙˆØ§Ø¬Ù‡Ø§Øª Ø®Ù„ÙÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙˆØ³Ù‘Ø¹ ÙˆÙˆØ§Ø¬Ù‡Ø§Øª Ø£Ù…Ø§Ù…ÙŠØ© Ù…Ù…ØªØ¹Ø©. Ø£Ø³ØªØ¹Ù…Ù„ Ø£Ø·Ø± Ø¹Ù…Ù„ Ø­Ø¯ÙŠØ«Ø© ÙˆØªØµÙ…ÙŠÙ…Ø§Ù‹ Ù†Ø¸ÙŠÙØ§Ù‹ Ù„Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©.",

    stat_projects: "Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹",
    stat_clients: "Ø¹Ù…Ù„Ø§Ø¡ Ø³Ø¹Ø¯Ø§Ø¡",
    stat_years: "Ø³Ù†ÙˆØ§Øª",

    projects_title: "Ø£Ù‡Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹",
    projects_sub: "ÙˆØ§Ø¬Ù‡Ø§Øª Ù†Ø¸ÙŠÙØ©ØŒ Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ù‚ÙˆÙŠØ©ØŒ ÙˆØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù„Ø³Ø©.",

    project_social: "ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ§ØµÙ„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",
    social_title: "ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ§ØµÙ„ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",
    social_desc:
      "Ø®Ù„Ø§ØµØ© ÙÙˆØ±ÙŠØ©ØŒ Ù…Ù„ÙØ§Øª Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ù…Ø±Ø§Ø³Ù„Ø© Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø¯Ø±Ø¯Ø´Ø© ÙˆÙ…ÙŠØ²Ø§Øª Ù„Ù„ØªØ¹Ø§Ø±Ù. ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… MySQL ÙˆJavaScript ÙˆSymfony.",

    project_stock: "ØªØ³ÙŠÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†",
    stock_title: "ØªØ³ÙŠÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ)",
    stock_desc:
      "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ±Ù‘Ø¯ÙŠÙ† ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø¹ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…ØªØ¹Ø¯Ù‘Ø¯Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†. Laravel / MySQL Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø© Ø­Ø¯ÙŠØ«Ø©.",

    btn_code: "Ø§Ù„ÙƒÙˆØ¯",

    contact_title: "Ù„Ù†Ù†Ø¬Ø² Ø´ÙŠØ¦Ø§Ù‹ Ù…Ø¹Ø§Ù‹",
    contact_sub: "Ø£Ù†Ø§ Ù…ØªØ§Ø­ Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø± ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ†. ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ:",
    email: "dahiyoussef091@gmail.com",

    footer_text: "ÙŠÙˆØ³Ù â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©."
  },

  fr: {
    site_title: "Youssef â€” Portfolio",
    brand_name: "Youssef.",
    nav_about: "Ã€ propos",
    nav_projects: "Projets",
    nav_contact: "Contact",

    hero_welcome: "Bienvenue dans mon portfolio",
    hero_name: "Youssef Dahi",
    hero_title: "DÃ©veloppeur Web Full-Stack",
    hero_sub:
      "Je conÃ§ois des applications rapides, propres et modernes pour le web et le mobile.",
    hero_view_projects: "Voir les projets",
    hero_about_me: "Ã€ propos de moi",

    about_title: "Ã€ propos de moi",
    about_text:
      "Je suis Youssef, dÃ©veloppeur full-stack. Je construis des backends scalables et des interfaces agrÃ©ables. Jâ€™utilise des frameworks modernes et une architecture propre.",

    stat_projects: "Projets",
    stat_clients: "Clients satisfaits",
    stat_years: "AnnÃ©es",

    projects_title: "Projets mis en avant",
    projects_sub: "UI soignÃ©e, architecture solide et expÃ©rience fluide.",

    project_social: "RÃ©seau social",
    social_title: "Application de rÃ©seau social",
    social_desc:
      "Fil dâ€™actualitÃ© en temps rÃ©el, profils utilisateurs, messagerie cÃ´tÃ© serveur, relations entre utilisateurs, chat et fonctionnalitÃ©s de rencontre. DÃ©veloppÃ© avec MySQL, JavaScript et Symfony.",

    project_stock: "Gestion de stock",
    stock_title: "Gestion de stock (MarchÃ© en ligne)",
    stock_desc:
      "Gestion du stock, des commandes, des fournisseurs et des statistiques, avec rÃ´les utilisateurs. Laravel / MySQL et interface moderne.",

    btn_code: "Code",

    contact_title: "Construisons quelque chose",
    contact_sub:
      "Je suis ouvert au freelance et aux collaborations. Contactez-moi :",
    email: "dahiyoussef091@gmail.com",

    footer_text: "Youssef â€” Tous droits rÃ©servÃ©s."
  },

  es: {
    site_title: "Youssef â€” Portafolio",
    brand_name: "Youssef.",
    nav_about: "Sobre mÃ­",
    nav_projects: "Proyectos",
    nav_contact: "Contacto",

    hero_welcome: "Bienvenido a mi portafolio",
    hero_name: "Youssef Dahi",
    hero_title: "Desarrollador Web Full-Stack",
    hero_sub:
      "Creo aplicaciones rÃ¡pidas, limpias y modernas para la web y el mÃ³vil.",
    hero_view_projects: "Ver proyectos",
    hero_about_me: "Sobre mÃ­",

    about_title: "Sobre mÃ­",
    about_text:
      "Soy Youssef, desarrollador full-stack. Construyo backends escalables y frontends agradables. Trabajo con frameworks modernos y arquitectura limpia.",

    stat_projects: "Proyectos",
    stat_clients: "Clientes felices",
    stat_years: "AÃ±os",

    projects_title: "Proyectos destacados",
    projects_sub: "UI limpia, arquitectura sÃ³lida y UX fluida.",

    project_social: "Red social",
    social_title: "AplicaciÃ³n de red social",
    social_desc:
      "Feed en tiempo real, perfiles de usuario, mensajerÃ­a del lado del servidor, relaciones entre usuarios, chat y funciones de citas. Desarrollado con MySQL, JavaScript y Symfony.",

    project_stock: "GestiÃ³n de stock",
    stock_title: "GestiÃ³n de stock (Mercado online)",
    stock_desc:
      "Inventario, pedidos, proveedores y analÃ­ticas con acceso segÃºn roles. Laravel / MySQL y una interfaz moderna.",

    btn_code: "CÃ³digo",

    contact_title: "Construyamos algo",
    contact_sub:
      "Estoy disponible para trabajos freelance y colaboraciones. EscrÃ­beme:",
    email: "dahiyoussef091@gmail.com",

    footer_text: "Youssef â€” Todos los derechos reservados."
  }
};

const RTL_LANGS = ["ar"];

// =======================
//  APPLY LANGUAGE
// =======================
function applyLanguage(lang) {
  const dict = I18N[lang] || I18N.en;

  // Update all elements with data-i18n
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (!key) return;
    const value = dict[key];
    if (!value) return;
    el.textContent = value;
  });

  // Update <title>
  if (dict.site_title) {
    document.title = dict.site_title;
  }

  // RTL / LTR direction
  if (RTL_LANGS.includes(lang)) {
    document.documentElement.setAttribute("dir", "rtl");
    document.documentElement.setAttribute("lang", "ar");
  } else {
    document.documentElement.setAttribute("dir", "ltr");
    document.documentElement.setAttribute("lang", lang);
  }

  // Active button state
  document.querySelectorAll(".lang-select button").forEach((btn) => {
    btn.classList.toggle("active", btn.dataset.lang === lang);
  });

  // Save language
  localStorage.setItem("lang", lang);
}

// =======================
//  INIT
// =======================
document.addEventListener("DOMContentLoaded", () => {
  // Year in footer
  const yearSpan = document.getElementById("year");
  if (yearSpan) {
    yearSpan.textContent = new Date().getFullYear();
  }

  // Load saved language or default EN
  const savedLang = localStorage.getItem("lang") || "en";
  applyLanguage(savedLang);

  // Click events on language buttons
  document.querySelectorAll(".lang-select button").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.dataset.lang;
      applyLanguage(lang);
    });
  });

  // Red spotlight follows mouse (uses --mx / --my variables)
  const spotlight = document.querySelector(".spotlight");
  if (spotlight) {
    window.addEventListener("mousemove", (e) => {
      const x = e.clientX + "px";
      const y = e.clientY + "px";
      document.documentElement.style.setProperty("--mx", x);
      document.documentElement.style.setProperty("--my", y);
    });
  }

  // Small hover lift for cards via JS class toggle
  document.querySelectorAll(".card").forEach((card) => {
    card.addEventListener("pointerenter", () =>
      card.classList.add("is-hover")
    );
    card.addEventListener("pointerleave", () =>
      card.classList.remove("is-hover")
    );
  });

  // Count-up animation for stats
  const counters = document.querySelectorAll(".num");
  if (counters.length) {
    const reveal = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) return;
          const el = entry.target;
          const target = +el.dataset.count;
          const duration = 1200; // ms
          const start = performance.now();
          const step = (t) => {
            const p = Math.min((t - start) / duration, 1);
            el.textContent = Math.floor(p * target);
            if (p < 1) requestAnimationFrame(step);
          };
          requestAnimationFrame(step);
          reveal.unobserve(el);
        });
      },
      { threshold: 0.6 }
    );
    counters.forEach((c) => reveal.observe(c));
  }

  // Smooth scroll for same-page links
  document.querySelectorAll('a[href^="#"]').forEach((a) => {
    a.addEventListener("click", (e) => {
      const id = a.getAttribute("href");
      const el = document.querySelector(id);
      if (!el) return;
      e.preventDefault();
      el.scrollIntoView({ behavior: "smooth", block: "start" });
    });
  });
});
// ==========================
// THEME SWITCHER (Dark/Light)
// ==========================
// ==========================
// THEME SWITCHER (Dark/Light)
// ==========================
const themeBtn = document.getElementById("theme-btn");

// Load theme from localStorage
let savedTheme = localStorage.getItem("theme") || "dark";
applyTheme(savedTheme);

themeBtn.addEventListener("click", () => {
  const newTheme = document.documentElement.classList.contains("light")
    ? "dark"
    : "light";

  applyTheme(newTheme);
});

function applyTheme(theme) {
  if (theme === "light") {
    document.documentElement.classList.add("light");
    themeBtn.textContent = "ðŸŒ™ Dark";
  } else {
    document.documentElement.classList.remove("light");
    themeBtn.textContent = "â˜€ï¸ Light";
  }

  localStorage.setItem("theme", theme);
}
// Background subtle scroll parallax
window.addEventListener("scroll", () => {
  const maxScroll =
    document.documentElement.scrollHeight - window.innerHeight || 1;
  const progress = window.scrollY / maxScroll; // 0 -> 1

  // Move background a bit based on scroll
  const yPos1 = progress * 20;   // first gradient
  const yPos2 = 100 - progress * 20; // second gradient

  document.body.style.backgroundPosition =
    `0% ${yPos1}%, 100% ${yPos2}%`;
});

